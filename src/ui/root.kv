#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar
#:import NavigationDrawerIconButton kivymd.navigationdrawer.NavigationDrawerIconButton
#:import Toolbar kivymd.toolbar.Toolbar

#:import SamplesScreen widgets.samples_widgets.SamplesScreen
#:import SettingsScreen widgets.settings_widgets.SettingsScreen
#:import SynthScreen widgets.synth_widgets.SynthScreen
#:import DrumMachineScreen widgets.drum_machine_widgets.DrumMachineScreen
#:import ChordProgScreen widgets.chord_prog_widgets.ChordProgScreen


<Drawer>:
	id: nav_drawer
	NavigationDrawerToolbar:
		title: "Sonicbox"
	NavigationDrawerIconButton:
		icon: 'checkbox-blank-circle'
		text: 'Synth'
		on_release: app.root.screens.current = 'synth'
	NavigationDrawerIconButton:
		icon: 'checkbox-blank-circle'
		text: 'Samples'
		on_release: app.root.screens.current = 'samples'
	NavigationDrawerIconButton:
		icon: 'checkbox-blank-circle'
		text: 'Drum Machine'
		on_release: app.root.screens.current = 'drum_machine'
	NavigationDrawerIconButton:
		icon: 'checkbox-blank-circle'
		text: 'Chord Progression Generator'
		on_release: app.root.screens.current = 'chord_prog'
	NavigationDrawerIconButton:
		icon: 'checkbox-blank-circle'
		text: 'Settings'
		on_release: app.root.screens.current = 'settings'

<ScreenArea>:
	orientation: 'vertical'
	manager: screen_manager

	Toolbar:
		id: toolbar
		size_hint_y: 0.08
		title: 'Sonicbox'
		md_bg_color: app.theme_cls.primary_color
		left_action_items: [['menu', lambda left_menu_btn: app.root.toggle_nav_drawer()]]
		right_action_items: [['dots-vertical', lambda right_menu_btn: app.root.screens.open_dropdown(right_menu_btn)]]

	CustomScreenManager:
		id: screen_manager
		size_hint_y: 0.92
		current: 'synth'
		synth: synth_screen
		samples: samples_screen

		SynthScreen:
			id: synth_screen
		SamplesScreen:
			id: samples_screen
		DrumMachineScreen:
			id: drum_machine_screen
		ChordProgScreen:
			id: chord_prog_screen
		SettingsScreen:
			id: settings_screen
